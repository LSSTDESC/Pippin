# Generic inputs for all models (July 6 2018)


# full 5-year simlib
SIMLIB_FILE:  $DES_ROOT/simlibs/DES_DIFFIMG.SIMLIB

UVLAM_EXTRAPFLUX: 500  # extrap model down to 500A.
# ----------------- host info ---------------
# HOSTLIB_FILE:    $DES_ROOT/simlibs/DES_5YR.HOSTLIB
HOSTLIB_FILE:    $DES_ROOT/simlibs/DES_SVA2+LOGMASS.HOSTLIB

HOSTLIB_GENRANGE_NSIGZ: -3. +3.  # not yet implemented
HOSTLIB_MSKOPT:     258           # 2=noise, 256=vbose
FLUXERRMODEL_FILE: $DES_ROOT/simlibs/DES5YR_SIM_ERRORFUDGES.DAT

SOLID_ANGLE:  0.0082     # 27 sq deg

GENSOURCE:   RANDOM

GENFILTERS:  griz
KCOR_FILE:   $SNDATA_ROOT/kcor/DES/DES-SN3YR/kcor_DECam.fits

# selection criteria for generation
GENRANGE_PEAKMJD: 56535  58178    # Y1+Y2+Y3+Y4+Y5

GENRANGE_TREST:  -40  100
GENRANGE_REDSHIFT:  0.05  1.3
GENSIGMA_REDSHIFT:  0.00001
GENSIGMA_VPEC:      300  # km/sec
VPEC_ERR:           300  # VPEC_ERR=GENSIGMA --> no correction

RANSEED: 12945       # random number seed

# smear flags: 0=off, 1=on
SMEARFLAG_FLUX:    1  # photo-stat smearing of signal, sky, etc ...
SMEARFLAG_ZEROPT:  0  # smear zero-point with zptsig

OPT_SETPKMJD: 16
APPLY_SEARCHEFF_OPT:  5
NEWMJD_DIF: 0.4

SEARCHEFF_PIPELINE_LOGIC_FILE: $SNDATA_ROOT/models/searcheff/SEARCHEFF_PIPELINE_LOGIC.DAT
SEARCHEFF_PIPELINE_EFF_FILE:   $SNDATA_ROOT/models/searcheff/SEARCHEFF_PIPELINE_DES.DAT

SEARCHEFF_SPEC_FILE:   ZERO
SEARCHEFF_zHOST_FILE:  $DES_ROOT/models/searcheff/SEARCHEFF_zHOST_DIFFIMG.DAT
LENSING_PROBMAP_FILE:  $SNDATA_ROOT/models/lensing/LENSING_PROBMAP_LogNormal+MICECATv1.DAT

APPLY_CUTWIN_OPT: 1
CUTWIN_NEPOCH:   5 -5.              # require 5 epochs (no S/N requirement)
CUTWIN_SNRMAX:   3 griz 2 -20. 60.  # 2 filters with SNRAMX>3
# CUTWIN_TRESTMIN: -19 3
# CUTWIN_TRESTMAX: 10 80

# cosmological params for lightcurve generation and redshift distribution
OMEGA_MATTER:  0.3
OMEGA_LAMBDA:  0.7
W0_LAMBDA:    -1.00
H0:           70.0

SIMGEN_DUMP:  37
  CID GENTYPE  SNTYPE  NON1A_INDEX  GENZ GALZTRUE
  LIBID RA DECL MWEBV MU PEAKMJD
  MAGT0_g MAGT0_r MAGT0_i MAGT0_z 
  SNRMAX_g SNRMAX_r SNRMAX_i SNRMAX_z SNRMAX SNRMAX2 SNRMAX3 
  NOBS TRESTMIN TRESTMAX TGAPMAX  
  CUTMASK  SIM_EFFMASK
  HOSTMAG_g HOSTMAG_r HOSTMAG_i HOSTMAG_z
  SBFLUX_g  SBFLUX_r  SBFLUX_i  SBFLUX_z
# ======

FORMAT_MASK:  32  # 2=terse  8=BLIND  16=CIDRAN; 32=FITS

