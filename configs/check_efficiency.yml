SIM:
  LOWZSIM:
    IA_G10_LOWZ:
      BASE: sn_ia_salt2_g10_lowz.input
    GLOBAL:
      NGEN_UNIT: 2
      RANSEED_CHANGE: 10 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_1hr.TEMPLATE 50

  DESSIMCC:
    IA_G10:
      BASE: sn_ia_salt2_g10.input
    II_TEMPLATES:
      BASE: sn_collection_maria_split_a.input
      PATH_NON1ASED: $DES_USERS/mvincenzi/NON1A/
      GENMAG_OFF_GLOBAL: -1
    GLOBAL:
      NGENTOT_LC: 3000
      RANSEED_CHANGE: 10 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_1hr.TEMPLATE 50

  DESSIMCCEFF:
    IA_G10:
      BASE: sn_ia_salt2_g10.input
    II_TEMPLATES:
      BASE: sn_collection_maria_split_a.input
      PATH_NON1ASED: $DES_USERS/mvincenzi/NON1A/
      GENMAG_OFF_GLOBAL: -1
    GLOBAL:
      SEARCHEFF_zHOST_FILE: NONE
      NGENTOT_LC: 3000
      RANSEED_CHANGE: 10 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_1hr.TEMPLATE 50

  TRAINDESSIM:
    IA_G10:
      BASE: sn_ia_salt2_g10.input
    II_TEMPLATES:
      BASE: sn_collection_maria_split_b.input
      PATH_NON1ASED: $DES_USERS/mvincenzi/NON1A/
    GLOBAL:
      NGEN_UNIT: 3
      RANSEED_REPEAT: 30 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 30

  TESTDESSIM:
    IA_G10:
      BASE: sn_ia_salt2_c11.input
    II_TEMPLATES:
      BASE: sn_collection_maria_split_a.input
      PATH_NON1ASED: $DES_USERS/mvincenzi/NON1A/
      GENMAG_OFF_GLOBAL: 1
    GLOBAL:
      NGEN_UNIT: 2
      RANSEED_REPEAT: 20 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20

  LOWZSIMBIAS:
    IA_G10_LOWZ:
      BASE: sn_ia_salt2_g10_lowz.input
      GENSIGMA_SALT2ALPHA: 1E8  1E8
      GENRANGE_SALT2ALPHA: 0.12 0.20
      GENGRID_SALT2ALPHA: 2
      GENSIGMA_SALT2BETA: 1E8  1E8
      GENRANGE_SALT2BETA: 2.6  3.6
      GENGRID_SALT2BETA: 2
    GLOBAL:
      NGEN_UNIT: 10
      RANSEED_REPEAT: 30 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 30

  DESSIMBIAS5YRIA:
    IA_G10:
      BASE: sn_ia_salt2_g10.input
      GENSIGMA_SALT2ALPHA: 1E8  1E8
      GENRANGE_SALT2ALPHA: 0.12 0.20
      GENGRID_SALT2ALPHA: 2
      GENSIGMA_SALT2BETA: 1E8  1E8
      GENRANGE_SALT2BETA: 2.6  3.6
      GENGRID_SALT2BETA: 2
    GLOBAL:
      NGEN_UNIT: 10
      RANSEED_REPEAT: 30 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 30

  DESSIMBIAS5YRCC:
    II_TEMPLATES:
      BASE: sn_collection_maria_split_a.input
      PATH_NON1ASED: $DES_USERS/mvincenzi/NON1A/
    GLOBAL:
      NGEN_UNIT: 10
      RANSEED_REPEAT: 10 12345
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 10


LCFIT:
  L:
    BASE: lowz.nml
    MASK: LOWZ
    SNLCINP:
      USE_MINOS: F
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20

  D:
    BASE: des.nml
    MASK: DES
    SNLCINP:
      USE_MINOS: F
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 80

CLASSIFICATION:
  UNITY:
    CLASSIFIER: UnityClassifier
    MODE: predict

  PERFECT:
    CLASSIFIER: PerfectClassifier
    MODE: predict
    OPTS:
      PROB_IA: 1.0
      PROB_CC: 0.0

  SNIRF:
    CLASSIFIER: SnirfClassifier
    MODE: train
    MASK_SIM: TRAINDESSIM

  SNIRFTEST:
    CLASSIFIER: SnirfClassifier
    MODE: predict
    OPTS:
      MODEL: SNIRF

  NN:
    CLASSIFIER: NearestNeighborPyClassifier
    MODE: train
    MASK_SIM: TRAINDESSIM

  NNTEST:
    CLASSIFIER: NearestNeighborPyClassifier
    MODE: predict
    OPTS:
        MODEL: NN

  SNN:
    CLASSIFIER: SuperNNovaClassifier
    MODE: train
    MASK_SIM: TRAINDESSIM

  SNNTEST:
    CLASSIFIER: SuperNNovaClassifier
    MODE: predict
    OPTS:
      MODEL: SNN

AGGREGATION:
  AGG:

MERGE:
  MERGE:

BIASCOR:
  PERFECT:
    DATA: [D_DESSIMCC, L_LOWZSIM]
    SIMFILE_BIASCOR: [D_DESSIMBIAS5YRIA, L_LOWZSIMBIAS]
    SIMFILE_CCPRIOR: D_DESSIMBIAS5YRCC
    CLASSIFIER: PERFECT
    MAKE_ALL_HUBBLE: False
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20
      u13: 0 # Turns of scalePCC

  UNITY:
    DATA: [D_DESSIMCC, L_LOWZSIM]
    SIMFILE_BIASCOR: [D_DESSIMBIAS5YRIA, L_LOWZSIMBIAS]
    SIMFILE_CCPRIOR: D_DESSIMBIAS5YRCC
    CLASSIFIER: UNITY
    MAKE_ALL_HUBBLE: False
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20

  SNIRF:
    DATA: [D_DESSIMCC, L_LOWZSIM]
    SIMFILE_BIASCOR: [D_DESSIMBIAS5YRIA, L_LOWZSIMBIAS]
    SIMFILE_CCPRIOR: D_DESSIMBIAS5YRCC
    CLASSIFIER: SNIRFTEST
    MAKE_ALL_HUBBLE: False
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20

  NN:
    DATA: [D_DESSIMCC, L_LOWZSIM]
    SIMFILE_BIASCOR: [D_DESSIMBIAS5YRIA, L_LOWZSIMBIAS]
    SIMFILE_CCPRIOR: D_DESSIMBIAS5YRCC
    CLASSIFIER: NNTEST
    MAKE_ALL_HUBBLE: False
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20

  SNN:
    DATA: [D_DESSIMCC, L_LOWZSIM]
    SIMFILE_BIASCOR: [D_DESSIMBIAS5YRIA, L_LOWZSIMBIAS]
    SIMFILE_CCPRIOR: D_DESSIMBIAS5YRCC
    CLASSIFIER: SNNTEST
    MAKE_ALL_HUBBLE: False
    OPTS:
      BATCH_INFO: sbatch $SBATCH_TEMPLATES/SBATCH_Midway2_10hr.TEMPLATE 20

ANALYSE:
  LUMSHIFT:
